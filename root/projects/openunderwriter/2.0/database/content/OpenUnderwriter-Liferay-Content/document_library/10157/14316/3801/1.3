<?xml version="1.0" encoding="UTF-8"?>
<!--
 This is the 'Base' product. This is the base of the openquote product hierarchy.
-->
<configuration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
               xsi:noNamespaceSchemaLocation="http://www.appliedindustriallogic.com/schemas/Configuration.xsd">
    <name>Configuration for the Base product</name>
    <timeout>-1</timeout>
    <who>factory</who>
    <version>1.0</version>
    <manager>com.ail.core.product.resetproduct.ResetProductService</manager>
    
    <!-- Next (unique) Number to use in policy number generation. The service -->
    <!-- updates this parameter as numbers are used up.                       -->
    <parameter name="NextPolicyNumber">1000</parameter>
    
    <!-- To avoid hitting the database every time a policy number is asked for, -->
    <!-- the service takes a chunk of numbers at a time, keeps track of the     -->
    <!-- ones it uses, then comes back for more when it runs out. BlockSize     -->
    <!-- controls the number that are allocated on each call.                   -->
    <parameter name="PolicyNumberBlockSize">100</parameter>

    <!-- Email server settings used by the email notification services. You can -->
    <!-- use any  JavaMail API's protocol property here.                        --> 
    <group name="SMTPServerProperties">
        <parameter name="mail.smtp.host">smtp.gmail.com</parameter>
        <parameter name="mail.smtp.port">587</parameter>
        <parameter name="mail.smtp.auth">true</parameter>
        <parameter name="mail.smtp.starttls.enable">true</parameter>
        <parameter name="mail.smtp.user">[YOUR GOOGLE USERNAME]</parameter>
        <parameter name="mail.smtp.password">[YOUR GOOGLE PASSWORD]</parameter>
    </group>

    <!-- List of commands (PageFlow Action Commands) that are to be executed -->
    <!-- during pageflow initialisation.                                     -->
    <group name="PageFlowInitialisationActions">
        <parameter name="AddRequestToPageFlowContextCommand" />
        <parameter name="AddResponseToPageFlowContextCommand" />
        <parameter name="AddProductNameToPageFlowContextCommand" />
        <parameter name="AddPageFlowNameToPageFlowContextCommand" />
        <parameter name="SelectPageFlowCommand" />
        <parameter name="FetchPolicyForPageFlowCommand" />
        <parameter name="SelectVersionEffectiveDateForPageFlowCommand" />
    </group>

    <types>
        <!-- ================================================================== -->
        <!-- Default product services                                           -->
        <!-- ================================================================== -->
        <service name="InitialiseNewBusinessService" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/InitialiseNewBusinessService.java</parameter>
        </service>

        <service name="CalculatePolicyTaxRule" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/Rules/CalculatePolicyTaxRule.java</parameter>
        </service>
        
        <service name="CalculatePolicyCommissionRule" builder="CachingClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.core.NullService</parameter>
        </service>
        
        <service name="CalculatePolicyBrokerageRule" builder="CachingClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.core.NullService</parameter>
        </service>
        
        <service name="CalculatePolicyManagementChargeService" builder="CachingClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.core.NullService</parameter>
        </service>
        
        <service name="GeneratePolicyNumberService" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/GeneratePolicyNumberService.java</parameter>
        </service>

        <service name="GenerateQuoteNumberService" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/GenerateQuoteNumberService.java</parameter>
        </service>

        <service name="EnforcePolicyComplianceRule" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/Rules/EnforcePolicyComplianceRule.java</parameter>
        </service>
              
        <service name="DumpQuoteToConsoleService" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/DumpQuoteToConsoleService.java</parameter>
        </service>

        <service name="SendBrokerEmailNotificationService" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/SendBrokerEmailNotificationService.java</parameter>
        </service>
        
        <service name="SendProposerEmailNotificationService" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/SendProposerEmailNotificationService.java</parameter>
        </service>
        
        <service name="AssessPaymentOptionsActionService" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/AssessPaymentOptionsActionService.java</parameter>
        </service>

        <service name="AcceptQuotationActionService" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/AcceptQuotationActionService.java</parameter>
        </service>

        <service name="AddQuoteNumberActionService" builder="ClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/AddQuoteNumberActionService.java</parameter>
        </service>

        <service name="AddPolicyNumberActionService" builder="ClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/AddPolicyNumberActionService.java</parameter>
        </service>

        <service name="CreateQuoteDocumentService" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/CreateQuoteDocumentService.java</parameter>
        </service>

        <service name="PremiumCalculationService" builder="CachingClassBuilder" key="com.ail.core.command.JaninoAccessor">
            <parameter name="Url">~/JavaServices/PremiumCalculationService.java</parameter>
        </service>
        
        <service name='AssessPaymentOptionsRule' builder='ClassBuilder' key='com.ail.core.command.JaninoAccessor'>
            <parameter name="Url">~/Rules/AssessPaymentOptionsRule.java</parameter>
        </service>

        <service name="MergeDocumentDataJavaService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.core.document.JavaMergeDataService</parameter>
        </service>
        
        <service name="StyleDocumentService" builder="ClassBuilder" key="com.ail.core.command.XSLTAccessor">
            <parameter name="Url">http://localhost:8080/openunderwriter-theme/documents/style.xslt</parameter>
        </service>
        
        <service name="RenderPdfDocumentService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
            <!-- Uncomment the following to get a full dump of what goes and and comes back from doc prod -->
            <!-- parameter name="LoggingIndicatorAsString">FULL</parameter -->
            <parameter name="ServiceClass">com.ail.core.document.RenderFopPdfDocumentService</parameter>
        </service>

        <!-- ================================================================== -->
        <!-- Default PageFlow actions                                           -->
        <!-- ================================================================== -->
        <service name="AddRequestToPageFlowContextService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.pageflow.service.AddRequestToPageFlowContextService</parameter>
        </service>
        
        <service name="AddResponseToPageFlowContextService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.pageflow.service.AddResponseToPageFlowContextService</parameter>
        </service>
        
        <service name="AddPageFlowNameToPageFlowContextService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.pageflow.service.AddPageFlowNameToPageFlowContextService</parameter>
        </service>
        
        <service name="AddProductNameToPageFlowContextService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.pageflow.service.AddProductNameToPageFlowContextService</parameter>
        </service>
        
        <service name="CreateNewBusinessQuotationService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.pageflow.service.CreateNewBusinessQuotationService</parameter>
        </service>
        
        <service name="FetchPolicyForPageFlowService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.pageflow.service.FetchPolicyForPageFlowService</parameter>
        </service>
        
        <service name="SelectPageFlowService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.pageflow.service.SelectPageFlowService</parameter>
        </service>
        
        <service name="SelectVersionEffectiveDateForPageFlowService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.pageflow.service.SelectVersionEffectiveDateForPageFlowService</parameter>
        </service>
        
        <!-- ================================================================== -->
        <!-- Default widget service bindings                                    -->
        <!-- ================================================================== -->
        <service name="Answer/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/Answer.vel</parameter>
        </service>
        
        <service name="AnswerScroller/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/AnswerScroller.vel</parameter>
        </service>
        
        <service name="AnswerSection/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/AnswerSection.vel</parameter>
        </service>
        
        <service name="AssessmentSheetDetails/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/AssessmentSheetDetails.vel</parameter>
        </service>
        
        <service name="AttributeField/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/AttributeField.vel</parameter>
        </service>
        
        <service name="AttributeFieldPageLevel/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/AttributeFieldPageLevel.vel</parameter>
        </service>
        
        <service name="Blank/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/Blank.vel</parameter>
        </service>
        
        <service name="RenderProposerQuotationSummaryService/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/ProposerQuotationSummary.vel</parameter>
        </service>
        
        <service name="BrokerQuotationSummary/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/BrokerQuotationSummary.vel</parameter>
        </service>
        
        <service name="CommandButtonAction/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/CommandButtonAction.vel</parameter>
        </service>
        
        <service name="ClauseDetails/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/ClauseDetails.vel</parameter>
        </service>
        
        <service name="InformationPage/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/InformationPage.vel</parameter>
        </service>
        
        <service name="LoginSection/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/LoginSection.vel</parameter>
        </service>
        
        <service name="NavigationSection/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/NavigationSection.vel</parameter>
        </service>
        
        <service name="Page/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/Page.vel</parameter>
        </service>
        
        <service name="PageHeader/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/PageHeader.vel</parameter>
        </service>
        
        <service name="PageFooter/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/PageFooter.vel</parameter>
        </service>
        
        <service name="PageSection/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/PageSection.vel</parameter>
        </service>
        
        <service name="PageSectionHeader/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/PageSectionHeader.vel</parameter>
        </service>
        
        <service name="PageScript/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/PageScript.vel</parameter>
        </service>
        
        <service name="ParsedUrlContent/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/ParsedUrlContent.vel</parameter>
        </service>
        
        <service name="PaymentDetails/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/PaymentDetails.vel</parameter>
        </service>
        
        <service name="PaymentOptionSelector/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/PaymentOptionSelector.vel</parameter>
        </service>
        
        <service name="ProposerDetails/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/ProposerDetails.vel</parameter>
        </service>
        
        <service name="ProposerQuotationSummary/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/ProposerQuotationSummary.vel</parameter>
        </service>
        
        <service name="Question/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/Question.vel</parameter>
        </service>
        
        <service name="QuestionPage/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/QuestionPage.vel</parameter>
        </service>
        
        <service name="QuestionSection/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/QuestionSection.vel</parameter>
        </service>
        
        <service name="QuestionSeparator/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/QuestionSeparator.vel</parameter>
        </service>
        
        <service name="QuestionWithDetails/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/QuestionWithDetails.vel</parameter>
        </service>
        
        <service name="QuestionWithSubSection/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/QuestionWithSubSection.vel</parameter>
        </service>
        
        <service name="QuitButtonAction/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/QuitButtonAction.vel</parameter>
        </service>
        
        <service name="QuotationSummary/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/QuotationSummary.vel</parameter>
        </service>
        
        <service name="ReferralSummary/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/ReferralSummary.vel</parameter>
        </service>
        
        <service name="RequoteButtonAction/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/RequoteButtonAction.vel</parameter>
        </service>
        
        <service name="RowScroller/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/RowScroller.vel</parameter>
        </service>
        
        <service name="SaveButtonAction/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/SaveButtonAction.vel</parameter>
        </service>
        
        <service name="SavedQuotations/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/SavedQuotations.vel</parameter>
        </service>
        
        <service name="SectionScroller/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/SectionScroller.vel</parameter>
        </service>
        
        <service name="ViewCertificateButtonService/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/ViewCertificateButton.vel</parameter>
        </service>
        
        <service name="ViewQuotationButtonService/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/ViewQuotationButton.vel</parameter>
        </service>
        
        <service name="ViewWordingButtonService/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/ViewWordingButton.vel</parameter>
        </service>
        
        <service name="ViewInvoiceButtonService/html" builder="CachingClassBuilder" key="com.ail.core.command.VelocityAccessor">
            <parameter name="Url">~/Templates/ViewInvoiceButton.vel</parameter>
        </service>
        
        <!-- ================================================================== -->
        <!-- Default workflow service bindings                                    -->
        <!-- ================================================================== -->

        <service name="CreateNewBusinessReferralWorkflowService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
            <parameter name="ServiceClass">com.ail.workflow.CreateNewBusinessReferralWorkflowService</parameter>
        </service>

        <!-- ================================================================== -->
        <!-- Default product commands                                           -->
        <!-- ================================================================== -->
        <!-- Risk assessment rules (command & service) for all products unless they override -->
        <command name="AssessPolicyRisk" builder="ClassBuilder" key="com.ail.insurance.quotation.AssessPolicyRiskCommandImpl">
            <parameter name="Service">AssessPolicyRiskRule</parameter>
        </command>
        
        <!-- Tax calc rules (command & service) for this product. By default, a 5% IPT tax line is applied, -->
        <!-- the calculation assumes that tax is built into the products base rates.                        -->
        <command name="CalculatePolicyTax" builder="ClassBuilder" key="com.ail.insurance.quotation.CalculatePolicyTaxCommandImpl">
            <parameter name="Service">CalculatePolicyTaxRule</parameter>
        </command>
        
        <!-- Commission calc rules (command & service) for this product. By default, no commissions are applied -->
        <command name="CalculatePolicyCommission" builder="ClassBuilder" key="com.ail.insurance.quotation.CalculatePolicyCommissionCommandImpl">
            <parameter name="Service">CalculatePolicyCommissionRule</parameter>
        </command>

        <!-- Brokerage calc rules (command & service) for this product. By default, no brokerage is applied -->
        <command name="CalculatePolicyBrokerage" builder="ClassBuilder" key="com.ail.insurance.quotation.CalculatePolicyBrokerageCommandImpl">
            <parameter name="Service">com.ail.core.NullService</parameter>
        </command>

        <!-- Management charge rules (command & service) for this product. By default, no charges are applied -->
        <command name="CalculatePolicyManagementCharge" builder="ClassBuilder" key="com.ail.insurance.quotation.CalculatePolicyManagementChargeCommandImpl">
            <parameter name="Service">CalculatePolicyManagementChargeService</parameter>
        </command>

        <!-- Generate policy number default command & service. -->
        <command name="GeneratePolicyNumber" builder="ClassBuilder" key="com.ail.insurance.quotation.GeneratePolicyNumberCommandImpl">
            <parameter name="Service">GeneratePolicyNumberService</parameter>
        </command>

        <!-- Generate quote number default command & service. -->
        <command name="GenerateQuoteNumber" builder="ClassBuilder" key="com.ail.insurance.quotation.GenerateQuoteNumberCommandImpl">
            <parameter name="Service">GenerateQuoteNumberService</parameter>
        </command>

        <!-- Enforce compliance rules (command & service). By default, no rules are applied -->
        <command name="EnforcePolicyCompliance" builder="ClassBuilder" key="com.ail.insurance.quotation.EnforcePolicyComplianceCommandImpl">
            <parameter name="Service">EnforcePolicyComplianceRule</parameter>
        </command>        

        <command name="NotifyBrokerByEmail" builder="ClassBuilder" key="com.ail.insurance.quotation.NotifyBrokerByEmailCommandImpl">
            <parameter name="Service">JMSQueueService</parameter>
        </command>

        <command name="NotifyProposerByEmail" builder="ClassBuilder" key="com.ail.insurance.quotation.NotifyProposerByEmailCommandImpl">
            <parameter name="Service">JMSQueueService</parameter>
        </command>

        <!-- Service defining which payment options to offer for a given quote -->
        <command name='AssessPaymentOptions' builder='ClassBuilder' key='com.ail.insurance.acceptance.AssessPaymentOptionsCommandImpl'>
            <parameter name='Accessor'>AssessPaymentOptionsRule</parameter>
        </command>

        <command name="MergeDocumentDataCommand" builder="ClassBuilder" key="com.ail.core.document.MergeDataCommandImpl">
            <parameter name="Service">MergeDocumentDataJavaService</parameter>
        </command>
        
        <command name="StyleDocumentCommand" builder="ClassBuilder" key="com.ail.core.document.StyleDocumentCommandImpl">
            <parameter name="Service">StyleDocumentXsltService</parameter>
        </command>        
        
        <command name="RenderIndustrialStyleDocumentCommand" builder="ClassBuilder" key="com.ail.core.document.RenderDocumentCommandImpl">
            <parameter name="Service">RenderPdfDocumentService</parameter>
            <parameter name="RenderOptionsArg">allowCopyContent=FALSE,allowPrint=TRUE</parameter>
            <parameter name="TranslationUrlArg">http://localhost:8080/openunderwriter-theme/documents/document-style.xsl</parameter>
        </command>        

        <!-- ================================================================== -->
        <!-- Default PageFlow action command bindings                           -->
        <!-- ================================================================== -->
        <command name="InitialiseNewBusiness" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">InitialiseNewBusinessService</parameter>
        </command>

        <command name="AddPageFlowNameToPageFlowContextCommand" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">AddPageFlowNameToPageFlowContextService</parameter>
        </command>

        <command name="AddRequestToPageFlowContextCommand" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">AddRequestToPageFlowContextService</parameter>
        </command>

        <command name="AddResponseToPageFlowContextCommand" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">AddResponseToPageFlowContextService</parameter>
        </command>

        <command name="AddProductNameToPageFlowContextCommand" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">AddProductNameToPageFlowContextService</parameter>
        </command>
        
        <command name="CreateNewBusinessQuotationCommand" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">CreateNewBusinessQuotationService</parameter>
        </command>
        
        <command name="FetchPolicyForPageFlowCommand" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">FetchPolicyForPageFlowService</parameter>
        </command>
        
        <command name="SelectPageFlowCommand" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">SelectPageFlowService</parameter>
        </command>
        
        <command name="SelectVersionEffectiveDateForPageFlowCommand" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">SelectVersionEffectiveDateForPageFlowService</parameter>
        </command>

        <!-- Dump a quotation to the console for debug purposes. --> 
        <command name="DumpQuoteToConsole" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">DumpQuoteToConsoleService</parameter>
        </command>

        <!-- Invoked by pageflow action to send a quotation notification to the broker --> 
        <command name="SendBrokerEmailNotificationAction" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">SendBrokerEmailNotificationService</parameter>
        </command>
        
        <!-- Invoked by pageflow action to send a quotation notification to the proposer --> 
        <command name="SendProposerEmailNotificationAction" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">SendProposerEmailNotificationService</parameter>
        </command>
        
        <!-- Wrapper giving access to the AssessPaymentOptions service from a page action --> 
        <command name="AssessPaymentOptionsAction" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">AssessPaymentOptionsActionService</parameter>
        </command>

        <!-- Wrapper giving access to the AcceptQuotation service from a page action --> 
        <command name="AcceptQuotationAction" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">AcceptQuotationActionService</parameter>
        </command>
        
        <command name="CreateQuoteDocumentAction" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">CreateQuoteDocumentService</parameter>
        </command>

        <!-- Premium calculation service combining assess risk, and calculate premium -->
        <command name="PremiumCalculation" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">PremiumCalculationService</parameter>
        </command>

        <!-- Add a quote number to the current quote -->
        <command name="AddQuoteNumberAction" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">AddQuoteNumberActionService</parameter>
        </command>

        <!-- Add a quote number to the current quote -->
        <command name="AddPolicyNumberAction" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">AddPolicyNumberActionService</parameter>
        </command>

        <!-- ================================================================== -->
        <!-- Default widget command bindings                                    -->
        <!-- ================================================================== -->
        <command name="Answer/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">Answer/html</parameter>
        </command>

        <command name="AnswerScroller/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">AnswerScroller/html</parameter>
        </command>

        <command name="AnswerSection/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">AnswerSection/html</parameter>
        </command>

        <command name="AssessmentSheetDetails/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">AssessmentSheetDetails/html</parameter>
        </command>

        <command name="AttributeField/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">AttributeField/html</parameter>
        </command>

        <command name="AttributeFieldPageLevel/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">AttributeFieldPageLevel/html</parameter>
        </command>

        <command name="Blank/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">Blank/html</parameter>
        </command>

        <command name="BrokerQuotationSummary/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">BrokerQuotationSummary/html</parameter>
        </command>

        <command name="ClauseDetails/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">ClauseDetails/html</parameter>
        </command>

        <command name="CommandButtonAction/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">CommandButtonAction/html</parameter>
        </command>

        <command name="InformationPage/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">InformationPage/html</parameter>
        </command>

        <command name="LoginSection/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">LoginSection/html</parameter>
        </command>

        <command name="NavigationSection/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">NavigationSection/html</parameter>
        </command>

        <command name="Page/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">Page/html</parameter>
        </command>

        <command name="PageHeader/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">PageHeader/html</parameter>
        </command>

        <command name="PageFooter/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">PageFooter/html</parameter>
        </command>

        <command name="PageSection/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">PageSection/html</parameter>
        </command>

        <command name="PageSectionHeader/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">PageSectionHeader/html</parameter>
        </command>

        <command name="PageScript/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">PageScript/html</parameter>
        </command>

        <command name="PaymentDetails/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">PaymentDetails/html</parameter>
        </command>

        <command name="PaymentOptionSelector/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">PaymentOptionSelector/html</parameter>
        </command>

        <command name="ProposerDetails/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">ProposerDetails/html</parameter>
        </command>

        <command name="ParsedUrlContent/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">ParsedUrlContent/html</parameter>
        </command>

        <command name="ProposerQuotationSummary/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">ProposerQuotationSummary/html</parameter>
        </command>

        <command name="Question/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">Question/html</parameter>
        </command>

        <command name="QuestionPage/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">QuestionPage/html</parameter>
        </command>

        <command name="QuestionSection/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">QuestionSection/html</parameter>
        </command>

        <command name="QuestionSeparator/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">QuestionSeparator/html</parameter>
        </command>

        <command name="QuestionWithDetails/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">QuestionWithDetails/html</parameter>
        </command>

        <command name="QuestionWithSubSection/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">QuestionWithSubSection/html</parameter>
        </command>

        <command name="QuitButtonAction/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">QuitButtonAction/html</parameter>
        </command>

        <command name="QuotationSummary/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">QuotationSummary/html</parameter>
        </command>

        <command name="ReferralSummary/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">ReferralSummary/html</parameter>
        </command>

        <command name="RequoteButtonAction/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">RequoteButtonAction/html</parameter>
        </command>

        <command name="RowScroller/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">RowScroller/html</parameter>
        </command>

        <command name="SaveButtonAction/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">SaveButtonAction/html</parameter>
        </command>

        <command name="SavedQuotations/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">SavedQuotations/html</parameter>
        </command>

        <command name="SectionScroller/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">SectionScroller/html</parameter>
        </command>

        <command name="ViewCertificateButtonCommand/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">ViewCertificateButtonService/html</parameter>
        </command>
        
        <command name="ViewQuotationButtonCommand/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">ViewQuotationButtonService/html</parameter>
        </command>
        
        <command name="ViewWordingButtonCommand/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">ViewWordingButtonService/html</parameter>
        </command>
        
        <command name="ViewInvoiceButtonCommand/text/html" builder="ClassBuilder" key="com.ail.pageflow.render.RenderCommandImpl">
            <parameter name="Service">ViewInvoiceButtonService/html</parameter>
        </command>
        
        <!-- ================================================================== -->
        <!-- Default workflow commands                                          -->
        <!-- ================================================================== -->

        <command name="CreateNewBusinessReferralWorkflow" builder="ClassBuilder" key="com.ail.pageflow.ExecutePageActionCommandImpl">
            <parameter name="Service">CreateNewBusinessReferralWorkflowService</parameter>
        </command>

        <!-- ================================================================== -->
        <!-- Default product types                                              -->
        <!-- ================================================================== -->

        <type builder="CastorXMLBuilder" key="com.ail.insurance.policy.Policy" name="Quotation">
            <parameter name="Url">product://localhost:8080/AIL/Base/Model/Quotation.xml</parameter>
        </type>

        <type builder="CastorXMLBuilder" key="com.ail.insurance.policy.PersonalProposer" name="PersonalProposer">
            <parameter name="Url">~/Model/PersonalProposer.xml</parameter>
        </type>

        <type builder="CastorXMLBuilder" key="com.ail.insurance.policy.CommercialProposer" name="CommercialProposer">
            <parameter name="Url">~/Model/CommercialProposer.xml</parameter>
        </type>

        <type name="QuotationPageFlow" builder="CastorXMLBuilder" singleInstance="true" key="com.ail.pageflow.PageFlow">
            <parameter name="Url">product://localhost:8080/AIL/Base/PageFlows/QuotationPageFlow.xml</parameter>
        </type>
        
        <type name='AilDemoBroker' builder='CastorXMLBuilder' key='com.ail.insurance.policy.Broker'>
            <parameter name="Url">~/Model/Acme.xml</parameter>
        </type>

        <type name="Translations" builder="CastorXMLBuilder" singleInstance="true" key="com.ail.core.language.Translations">
            <parameter name="Url">product://localhost:8080/AIL/Base/Translations.xml</parameter>
        </type>

        <type name="QuotationDocument" builder="CastorXMLBuilder" singleInstance="true" key="com.ail.core.document.model.DocumentDefinition">
            <parameter name="Url">product://localhost:8080/AIL/Base/Documents/QuotationDocument.xml</parameter>
        </type>
    </types>
</configuration>
