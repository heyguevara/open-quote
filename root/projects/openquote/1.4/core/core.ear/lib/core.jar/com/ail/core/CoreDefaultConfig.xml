<?xml version="1.0" encoding="UTF-8"?>
<!--
 This file defines the default (factory) configuration for the Core. This
 configuration is used by the core's resetConfiguration() method.
-->
<configuration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
               xmlns:xi="http://www.w3.org/2001/XInclude" 
               xsi:noNamespaceSchemaLocation="http://www.appliedindustriallogic.com/schemas/Configuration.xsd">

  <name>Default Core Configuration</name>
  <timeout>6000</timeout>
  <who>factory</who>
  <version>$Revision: 1.19 $</version>  

  <!-- Reset the following namespaces when a "reset all" request is made. -->
  <!-- Note: com.ail.core.Core is implicitly included.                    -->
  <group name="NamespacesToResetOnResetAll">
    <parameter name="com.ail.core.CoreProxy"/>
    <parameter name="com.ail.core.command.CommandServerBean"/>
    <parameter name="com.ail.core.configure.server.ServerBean"/>
    <parameter name="com.ail.core.persistence.PersistenceServerBean"/>
    <parameter name="com.ail.core.product.ProductManagerBean"/>
    <parameter name="com.ail.core.product.listproducts.ListProductsService"/>
    <parameter name="com.ail.core.product.resetallproducts.ResetAllProductsService"/>
    <parameter name="com.ail.core.validator.CommonsValidatorService"/>
  </group>
  
  <!-- Define the functions to be made available to JXPath. The name of each -->
  <!-- parameter becomes the namespace and the value is the class which      -->
  <!-- implements the functions.                                             -->
  <group name="JXPathExtensions">
    <parameter name="function">com.ail.core.Functions</parameter>
  </group>
  
  <builders>
    <builder name="ClassBuilder" factory="com.ail.core.factory.ClassFactory"/>
    <builder name="CachingClassBuilder" factory="com.ail.core.factory.CachingClassFactory"/>
    <builder name="BeanShellBuilder" factory="com.ail.core.factory.BeanShellFactory"/>
    <builder name="CastorXMLBuilder" factory="com.ail.core.factory.CastorXMLFactory"/>
    <builder name="XSLTBuilder" factory="com.ail.core.factory.XSLTFactory"/>
  </builders>

  <types>
    <!--====================================-->
    <!--   Define the default core services -->
    <!--====================================-->

    <!-- NullService: This service does nothing, it can be used to stub commands -->
    <service name="NullService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.NullService</parameter>
    </service>

    <!-- ToXMLService: Convert an object graph into and XMLString -->
    <service name="ToXMLService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.xmlbinding.CastorToXMLService</parameter>
    </service>

    <!-- FromXMLService: Convert an XMLString into an object graph -->
    <service name="FromXMLService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.xmlbinding.CastorFromXMLService</parameter>
    </service>

    <!-- LoggingService: Writes logging messages to System.out -->
    <service name="LoggingService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.logging.SystemOutLoggerService</parameter>
    </service>

    <!-- ValidatorService: Validation -->
    <service name="ValidatorService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.validator.CommonsValidatorService</parameter>
    </service>

    <!-- GetClassListService: GetClassList -->
    <service name="GetClassListService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.configure.finder.GetClassListService</parameter>
    </service>

    <!-- GetNamespaceService: get a list of the namespaces know to the configure system -->
    <service name="GetNamespacesService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.configure.server.GetNamespacesService</parameter>
      <parameter name="LoggingIndicatorAsString">CALL</parameter>
    </service>
    
    <!-- GetConfigurationService: get a named configuration -->
    <service name="GetConfigurationService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.configure.server.GetConfigurationService</parameter>
      <parameter name="LoggingIndicatorAsString">CALL</parameter>
    </service>
    
    <!-- SetConfigurationService: save a named configuration -->
    <service name="SetConfigurationService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.configure.server.SetConfigurationService</parameter>
      <parameter name="LoggingIndicatorAsString">CALL</parameter>
    </service>
    
    <!-- GetConfigurationHistoryService: fetch a namesapce's history -->
    <service name="GetNamespacesHistoryService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.configure.server.GetNamespacesHistoryService</parameter>
    </service>
    
    <!-- PackageCarService: Service to build and return an Configuration ARchive -->
    <service name="PackageCarService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.configure.server.PackageCarService</parameter>
    </service>
    
    <!-- DeployCarService: Service which reads configurations from a Configuration ARchive and deploys them -->
    <service name="DeployCarService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.configure.server.DeployCarService</parameter>
    </service>

    <!-- CatalogCarService: Parse a Configuration ARchive and return a list of the configurations found in it. -->
    <service name="CatalogCarService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.configure.server.CatalogCarService</parameter>
    </service>

    <!-- UniqueNumberService: Return a unique number. -->
    <service name="GenerateUniqueKeyService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.key.GenerateUniqueKeyService</parameter>
    </service>

    <!-- Product services -->
    <service name="ListProductsService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.product.listproducts.ListProductsService</parameter>
    </service>

    <service name="NewProductTypeService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.product.newproducttype.NewProductTypeService</parameter>
    </service>

    <service name="ResetAllProductsService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.product.resetallproducts.ResetAllProductsService</parameter>
    </service>

    <service name="ResetProductService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.product.resetproduct.ResetProductService</parameter>
    </service>
    
    <service name="RegisterProductService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.product.registerproduct.RegisterProductService</parameter>
    </service>
    
    <service name="RemoveProductService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.product.removeproduct.RemoveProductService</parameter>
    </service>
    
    <service name="UpdateProductService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.product.updateproduct.UpdateProductService</parameter>
    </service>
    
    <!-- Hibernate services -->
    <service name="HibernateOpenSessionService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.persistence.hibernate.HibernateOpenSessionService</parameter>
    </service>

    <service name="HibernateCloseSessionService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.persistence.hibernate.HibernateCloseSessionService</parameter>
    </service>
    
    <service name="HibernateUpdateService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.persistence.hibernate.HibernateUpdateService</parameter>
    </service>
    
    <service name="HibernateQueryService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.persistence.hibernate.HibernateQueryService</parameter>
    </service>

    <service name="HibernateLoadService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.persistence.hibernate.HibernateLoadService</parameter>
    </service>

    <service name="HibernateCreateService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.persistence.hibernate.HibernateCreateService</parameter>
    </service>
    
    <service name="HibernateDeleteService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.persistence.hibernate.HibernateDeleteService</parameter>
    </service>
    
    <!-- Document services -->
    <service name="GenerateDocumentService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.document.generatedocument.GenerateDocumentService</parameter>
    </service>
          
    <service name="MergeDocumentDataService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.document.generatedocument.JavaMergeDataService</parameter>
    </service>
    
    <service name="StyleDocumentService" builder="ClassBuilder" key="com.ail.core.command.XSLTAccessor">
      <parameter name="Url">classpath://com.ail.core.document.generatedocument/DefaultStyleDocumentService.xslt</parameter>
    </service>
    
    <service name="RenderPdfDocumentService" builder="ClassBuilder" key="com.ail.core.command.ClassAccessor">
      <parameter name="ServiceClass">com.ail.core.document.generatedocument.RenderFopPdfDocumentService</parameter>
    </service>
      
    <!--=======================================================================-->
    <!-- Bind the default core services (above) to Commands used by Core.class -->
    <!--=======================================================================-->
    <command name="ToXML" builder="ClassBuilder" key="com.ail.core.xmlbinding.ToXMLCommandImpl">
      <parameter name="Service">ToXMLService</parameter>
    </command>

    <command name="FromXML" builder="ClassBuilder" key="com.ail.core.xmlbinding.FromXMLCommandImpl">
      <parameter name="Service">FromXMLService</parameter>
    </command>

    <command name="InfoLogger" builder="ClassBuilder" key="com.ail.core.logging.LoggerCommandImpl">
      <parameter name="Service">LoggingService</parameter>
    </command>

    <command name="DebugLogger" builder="ClassBuilder" key="com.ail.core.logging.LoggerCommandImpl">
      <parameter name="Service">LoggingService</parameter>
    </command>

    <command name="WarningLogger" builder="ClassBuilder" key="com.ail.core.logging.LoggerCommandImpl">
      <parameter name="Service">LoggingService</parameter>
    </command>

    <command name="ErrorLogger" builder="ClassBuilder" key="com.ail.core.logging.LoggerCommandImpl">
      <parameter name="Service">LoggingService</parameter>
    </command>

    <command name="FatalLogger" builder="ClassBuilder" key="com.ail.core.logging.LoggerCommandImpl">
      <parameter name="Service">LoggingService</parameter>
    </command>

    <command name="Validator" builder="ClassBuilder" key="com.ail.core.validator.ValidatorCommandImpl">
      <parameter name="Service">ValidatorService</parameter>
    </command>

    <command name="GetClassList" builder="ClassBuilder" key="com.ail.core.configure.finder.GetClassListCommandImpl">
      <parameter name="Service">GetClassListService</parameter>
    </command>

    <command name="GetNamespaces" builder="ClassBuilder" key="com.ail.core.configure.server.GetNamespacesCommandImpl">
      <parameter name="Service">GetNamespacesService</parameter>
    </command>

    <command name="GetConfiguration" builder="ClassBuilder" key="com.ail.core.configure.server.GetConfigurationCommandImpl">
      <parameter name="Service">GetConfigurationService</parameter>
    </command>
      
    <command name="SetConfiguration" builder="ClassBuilder" key="com.ail.core.configure.server.SetConfigurationCommandImpl">
      <parameter name="Service">SetConfigurationService</parameter>
    </command>
      
    <command name="GetNamespacesHistory" builder="ClassBuilder" key="com.ail.core.configure.server.GetNamespacesHistoryCommandImpl">
      <parameter name="Service">GetNamespacesHistoryService</parameter>
    </command>

    <command name="PackageCar" builder="ClassBuilder" key="com.ail.core.configure.server.PackageCarCommandImpl">
      <parameter name="Service">PackageCarService</parameter>
    </command>

    <command name="DeployCar" builder="ClassBuilder" key="com.ail.core.configure.server.DeployCarCommandImpl">
      <parameter name="Service">DeployCarService</parameter>
    </command>

    <command name="CatalogCar" builder="ClassBuilder" key="com.ail.core.configure.server.CatalogCarCommandImpl">
      <parameter name="Service">CatalogCarService</parameter>
    </command>
    
    <command name="com.ail.core.key.GenerateUniqueKeyCommand" builder="ClassBuilder" key="com.ail.core.key.GenerateUniqueKeyCommandImpl">
      <parameter name="Service">GenerateUniqueKeyService</parameter>
    </command>

    <command name="ListProducts" builder="ClassBuilder" key="com.ail.core.product.listproducts.ListProductsCommandImpl">
      <parameter name="Service">ListProductsService</parameter>
    </command>

    <command name="NewProductType" builder="ClassBuilder" key="com.ail.core.product.newproducttype.NewProductTypeCommandImpl">
      <parameter name="Service">NewProductTypeService</parameter>
    </command>

    <command name="ResetProduct" builder="ClassBuilder" key="com.ail.core.product.resetproduct.ResetProductCommandImpl">
      <parameter name="Service">ResetProductService</parameter>
    </command>

    <command name="ResetAllProducts" builder="ClassBuilder" key="com.ail.core.product.resetallproducts.ResetAllProductsCommandImpl">
      <parameter name="Service">ResetAllProductsService</parameter>
    </command>

    <command name="RegisterProduct" builder="ClassBuilder" key="com.ail.core.product.registerproduct.RegisterProductCommandImpl">
      <parameter name="Service">RegisterProductService</parameter>
    </command>

    <command name="RemoveProduct" builder="ClassBuilder" key="com.ail.core.product.removeproduct.RemoveProductCommandImpl">
      <parameter name="Service">RemoveProductService</parameter>
    </command>

    <command name="UpdateProduct" builder="ClassBuilder" key="com.ail.core.product.updateproduct.UpdateProductCommandImpl">
      <parameter name="Service">UpdateProductService</parameter>
    </command>

    <command name="OpenPersistenceSession" builder="ClassBuilder" key="com.ail.core.persistence.OpenSessionCommandImpl">
      <parameter name="Service">HibernateOpenSessionService</parameter>
    </command>
    
    <command name="ClosePersistenceSession" builder="ClassBuilder" key="com.ail.core.persistence.CloseSessionCommandImpl">
      <parameter name="Service">HibernateCloseSessionService</parameter>
    </command>
    
    <command name="Update" builder="ClassBuilder" key="com.ail.core.persistence.UpdateCommandImpl">
      <parameter name="Service">HibernateUpdateService</parameter>
    </command>

    <command name="Query" builder="ClassBuilder" key="com.ail.core.persistence.QueryCommandImpl">
      <parameter name="Service">HibernateQueryService</parameter>
    </command>

    <command name="Load" builder="ClassBuilder" key="com.ail.core.persistence.LoadCommandImpl">
      <parameter name="Service">HibernateLoadService</parameter>
    </command>
    
    <command name="Create" builder="ClassBuilder" key="com.ail.core.persistence.CreateCommandImpl">
      <parameter name="Service">HibernateCreateService</parameter>
    </command>

    <command name="Delete" builder="ClassBuilder" key="com.ail.core.persistence.DeleteCommandImpl">
      <parameter name="Service">HibernateDeleteService</parameter>
    </command>
    
    <command name="GenerateDocument" builder="ClassBuilder" key="com.ail.core.document.generatedocument.GenerateDocumentCommandImpl">
      <parameter name="Service">GenerateDocumentService</parameter>
    </command>
          
    <command name="MergeDocumentDataCommand" builder="ClassBuilder" key="com.ail.core.document.generatedocument.MergeDataCommandImpl">
      <parameter name="Service">MergeDocumentDataService</parameter>
    </command>
    
    <command name="StyleDocumentCommand" builder="ClassBuilder" key="com.ail.core.document.generatedocument.StyleDocumentCommandImpl">
      <parameter name="Service">StyleDocumentService</parameter>
    </command>
          
    <type name="Version" builder="ClassBuilder" key="com.ail.core.Version"/>
    <type name="History" builder="ClassBuilder" key="com.ail.core.History"/>
  </types>
</configuration>
